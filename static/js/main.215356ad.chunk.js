(this.webpackJsonpa_start_mr=this.webpackJsonpa_start_mr||[]).push([[0],[,,,,,,,,function(t,n,e){},,,,,,function(t,n,e){},function(t,n,e){},,function(t,n,e){},function(t,n,e){},function(t,n,e){"use strict";e.r(n);var r=e(0),i=e.n(r),o=e(9),c=e.n(o),u=(e(14),e(3)),a=(e(15),e(2)),s=(e(8),e(1)),f=function(t){var n=t.item,e=t.isBlocker,i=t.isOpen,o=t.isRoad,c=t.isGoal,u=t.isPath,a=t.isUserPosition,f=t.setTileAsBlocker,l=t.isSetting,b=e?"block_tile":"tile",h=i?"is_open":"",j=o?"is_road":"",p=c?"is_goal":"",y=a?"is_user":"",x=u?"is_path":"",m=i&&i.IS_TENTATIVE_BETTER?"is_tentative":"",O=Object(r.useMemo)((function(){return j}),[j]),d=Object(r.useMemo)((function(){return p}),[p]),g=Object(r.useMemo)((function(){return h}),[h]);return Object(s.jsx)("div",{onClick:function(){return console.log(i,o)},onMouseMove:function(){l&&f({x:n.x,y:n.y})},className:"size ".concat(b," ").concat(g," ").concat(O," ").concat(d," ").concat(y," ").concat(x," ").concat(m)})},l=i.a.memo(f),b=(e(17),function(t){var n=t.x,e=t.columns,r=t.blockers,i=t.open,o=t.road,c=t.goal,u=t.path,f=t.userPosition,b=t.setTileAsBlocker,h=t.isSetting,j=new Array(e).fill(n),p=function(t){return i.length>0&&i.find((function(n){return n.y===t}))},y=function(t){return o.length>0&&o.find((function(n){return n.y===t}))},x=function(t){return c&&c.y===t},m=function(t){return u.length>0&&u.find((function(n){return n.y===t}))},O=function(t,n){return f.x===t&&f.y===n};return Object(s.jsx)("div",{className:"row",children:j.map((function(t,n){return Object(a.a)({x:t,y:n},t)})).map((function(t,n){return Object(s.jsx)(l,{item:t,isBlocker:(e=t.y,r.length>0&&r.find((function(t){return t.y===e}))),isOpen:p(t.y),isRoad:y(t.y),isGoal:x(t.y),isPath:m(t.y),isUserPosition:O(t.x,t.y),setTileAsBlocker:b,isSetting:h},"".concat(t.x,"_").concat(t.y));var e}))})}),h=i.a.memo(b),j=(e(18),function(t){var n=t.columns,e=t.rows,r=t.blockers,i=t.open,o=t.road,c=t.goal,u=t.path,a=t.userPosition,f=t.setTileAsBlocker,l=t.isSetting,b=new Array(e).fill(0),j=function(t,n){return t.filter((function(t){return t.x===n}))};return Object(s.jsx)("div",{className:"map",children:b.map((function(t,e){return Object(s.jsx)(h,{x:e,columns:n,blockers:j(r,e),open:j(i,e),road:j(o,e),path:j(u,e),goal:c.x===e&&c,userPosition:a,setTileAsBlocker:f,isSetting:l},e)})).reverse()})}),p=[["-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-"],["-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-"],["-","-","-","-","-","-","#","#","#","#","#","#","#","#","#","#","-","-","-","-"],["-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","#","-","-","-","-"],["-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","#","-","-","-","-"],["-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","#","-","-","-","-"],["-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","#","-","-","-","-"],["-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","#","-","-","-","-"],["-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","#","-","-","-","-"],["-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","#","-","-","-","-"],["-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","#","-","-","-","-"],["-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","#","-","-","-","-"],["-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","#","-","-","-","-"],["-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","#","-","-","-","-"],["-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","#","-","-","-","-"],["-","-","-","-","-","-","#","#","#","#","#","#","#","#","#","#","-","-","-","-"],["-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-"],["-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-"],["-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-"],["-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-"]],y=function(t){var n=t.dimension,e=Object(r.useState)([]),i=Object(u.a)(e,2),o=i[0],c=i[1];return{setBlockersOnMap:function(){c(function(){var t=function(){var t=Math.round(Math.random()*n);return 0!==t?t-1:t};return new Array(8*n).fill(0).map((function(){return{x:t(),y:t()}})).filter((function(t){var n=t.x,e=t.y;return 0!==n&&0!==e})).filter((function(t){var e=t.x,r=t.y;return e!==n-1&&r!==n-1}))}())},blockers:o,setTileAsBlocker:function(t){c((function(n){return n.concat(t)}))},setBlockersBasedOnGeneratedMap:function(){var t=[];p.reverse().forEach((function(n,e){n.forEach((function(n,r){"-"!==n&&t.push({x:e,y:r})}))})),c(t)}}},x=e(7),m={x:4,y:0},O={x:18,y:19},d=function(t,n){var e=t.x-n.x,r=t.y-n.y;return Math.sqrt(e*e+r*r)},g=function(t){var n=O.x-t.x,e=O.y-t.y;return Math.sqrt(n*n+e*e)},T=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(t){var e=d(t,n)+n.gCost,r=g(t),i=e+r,o={x:t.x,y:t.y,gCost:e,hCost:r,cost:i,parent:n};return o}},v=function(t){var n=t.map((function(t){return t.cost})),e=Math.min.apply(Math,Object(x.a)(n));return{minArray:t.filter((function(t){return t.cost===e})),min:e}},k=function(t){var n=t.map((function(t){return t.hCost})),e=Math.min.apply(Math,Object(x.a)(n));return t.find((function(t){return t.hCost===e}))},w=function(t,n){return t.find((function(t){return t.cost===n}))},A=function(t){return t<=0?-1:t-1},M=function(t){return t>=19?-1:t+1},B=function(t,n){var e=t;return n.forEach((function(t){e=e.filter((function(n){return n.x!==t.x||n.y!==t.y}))})),e.map((function(t){return Object(a.a)(Object(a.a)({},t),{},{status:"waiting"})}))},S=function(t,n){var e=t;return n.forEach((function(t){e=e.filter((function(n){return n.x!==t.x||n.y!==t.y}))})),e},R=function(t,n){return t.filter((function(t){return t.x!==n.x||t.y!==n.y}))},C=function(t){if(-1!==t.x&&-1!==t.y)return t},E=function(t){return t.filter((function(t){return t}))},L=function(t,n){var e=function(t){return function(t,n){if(t&&!n.find((function(n){return n.x===t.x&&n.y===t.y})))return t}(t,n)},r=T(C({x:A(t.x),y:t.y}),t),i=T(C({x:M(t.x),y:t.y}),t),o=T(C({x:t.x,y:M(t.y)}),t),c=T(C({x:t.x,y:A(t.y)}),t),u=T(C({x:A(t.x),y:M(t.y)}),t),a=T(C({x:M(t.x),y:M(t.y)}),t),s=T(C({x:A(t.x),y:A(t.y)}),t),f=T(C({x:M(t.x),y:A(t.y)}),t);return{leftTile:r&&e(r),rightTile:i&&e(i),topTile:o&&e(o),bottomTile:c&&e(c),topLeftTile:u&&e(u),topRightTile:a&&e(a),bottomLeftTile:s&&e(s),bottomRightTile:f&&e(f),neighbours:{leftTile:r,rightTile:i,topTile:o,bottomTile:c,topLeftTile:u,topRightTile:a,bottomLeftTile:s,bottomRightTile:f}}},_=function(t){var n=Object(r.useState)(Object(a.a)(Object(a.a)({},t),{},{gCost:0,parent:null})),e=Object(u.a)(n,2),i=e[0],o=e[1];return Object(r.useEffect)((function(){document.addEventListener("keyup",(function(t){switch(t.code){case"ArrowUp":o((function(t){return Object(a.a)(Object(a.a)({},t),{},{x:M(t)})}));break;case"ArrowDown":o((function(t){return Object(a.a)(Object(a.a)({},t),{},{x:A(t)})}));break;case"ArrowLeft":o((function(t){return Object(a.a)(Object(a.a)({},t),{},{y:A(t)})}));break;case"ArrowRight":o((function(t){return Object(a.a)(Object(a.a)({},t),{},{y:M(t)})}))}}))}),[]),{player:i,setPosition:o,move:function(t){o(t)}}},P=function(t,n,e,i,o,c){var s=Object(r.useState)([t]),f=Object(u.a)(s,2),l=f[0],b=f[1],h=Object(r.useState)([]),j=Object(u.a)(h,2),p=j[0],y=j[1],x=L(t,[]),m=x.leftTile,d=x.rightTile,g=x.topTile,T=x.bottomTile,A=x.topLeftTile,M=x.topRightTile,C=x.bottomLeftTile,_=x.bottomRightTile,P=E([m,d,g,T,A,M,C,_]),N=Object(r.useState)(B(P,l)),F=Object(u.a)(N,2),G=F[0],I=F[1],U=Object(r.useState)(B(P,l)),D=Object(u.a)(U,2),q=D[0],J=D[1],z=function(t){return t&&t.x===O.x&&t.y===O.y};Object(r.useEffect)((function(){var e=L(t,q),r=e.leftTile,i=e.rightTile,o=e.topTile,c=e.bottomTile,u=e.topLeftTile,a=e.topRightTile,s=e.bottomLeftTile,f=e.bottomRightTile,b=e.neighbours,h=E([r,i,o,c,u,a,s,f]),j=E([b.leftTile,b.rightTile,b.bottomTile,b.topTile,b.topLeftTile,b.topRightTile,b.bottomLeftTile,b.bottomRightTile]),p=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=B(e,l.concat(t)),o=S(i,n),c=R(r.concat(o),t);return c};I(p(j)),J((function(t){return p(h,t)}))}),[t.x,t.y]);Object(r.useEffect)((function(){if(e>0&&!z(l[l.length-1])){var t=function(){var t=q.filter((function(t){return"waiting"===t.status}));0===t.length&&(t=q.filter((function(t){return"skipped"===t.status})));var n=v(t),e=n.minArray,r=n.min;if(c){var i=v(G);if(i.min<r)return i.minArray.length>1?k(i.minArray):w(G,i.min)}return e.length>1?k(e):w(t,r)}();i(t),o&&J((function(t){return function(t){return t.map((function(t){return"waiting"===t.status?Object(a.a)(Object(a.a)({},t),{},{status:"skipped"}):t}))}(t)})),b((function(n){return n.concat(t)}))}}),[e]);return{open:q,road:l,path:p,setFinalPath:function(){!function(t){var n=[];!function t(e){null!==e.parent&&(n.push(e.parent),t(e.parent))}(t),y(n)}(l[l.length-1])},isGoalReached:z}};var N=function(){var t=Object(r.useState)(0),n=Object(u.a)(t,2),e=n[0],i=n[1],o=Object(r.useState)(!0),c=Object(u.a)(o,2),a=c[0],f=c[1],l=Object(r.useState)(!0),b=Object(u.a)(l,2),h=b[0],p=b[1],x=_(m),d=x.player,g=x.move,T=y({dimension:20}),v=T.blockers,k=T.setBlockersOnMap,w=T.setTileAsBlocker,A=T.setBlockersBasedOnGeneratedMap,M=P(d,v,e,g,a,h),B=M.open,S=M.road,R=M.path,C=M.setFinalPath,E=M.isGoalReached,L=Object(r.useState)(!1),N=Object(u.a)(L,2),F=N[0],G=N[1],I=Object(r.useRef)(d);return Object(r.useEffect)((function(){I.current=d,C()}),[e]),Object(s.jsx)("div",{className:"App",onMouseDown:function(){return G(!0)},onMouseUp:function(){return G(!1)},children:Object(s.jsxs)("header",{className:"App-header",children:[Object(s.jsxs)("div",{className:"buttons",children:[Object(s.jsx)("button",{onClick:function(){var t=setInterval((function(){E(I.current)?clearInterval(t):i((function(t){return t+1}))}),5)},children:"move"}),Object(s.jsx)("button",{onClick:k,children:"set blockers"}),Object(s.jsx)("button",{onClick:A,children:"set blockers based on map"}),Object(s.jsx)("button",{className:a?"with-condition":"",onClick:function(){return f((function(t){return!t}))},children:"with skipping"}),Object(s.jsx)("button",{className:h?"with-condition":"",onClick:function(){return p((function(t){return!t}))},children:"with neighbours evaluation"})]}),Object(s.jsx)(j,{columns:20,rows:20,blockers:v,open:B,road:S,path:R,goal:O,userPosition:d,setTileAsBlocker:w,isSetting:F})]})})},F=function(t){t&&t instanceof Function&&e.e(3).then(e.bind(null,20)).then((function(n){var e=n.getCLS,r=n.getFID,i=n.getFCP,o=n.getLCP,c=n.getTTFB;e(t),r(t),i(t),o(t),c(t)}))};c.a.render(Object(s.jsx)(i.a.StrictMode,{children:Object(s.jsx)(N,{})}),document.getElementById("root")),F()}],[[19,1,2]]]);
//# sourceMappingURL=main.215356ad.chunk.js.map