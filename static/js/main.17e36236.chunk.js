(this.webpackJsonpa_start_mr=this.webpackJsonpa_start_mr||[]).push([[0],[,,,,,,,,function(t,e,n){},,,,,,function(t,e,n){},function(t,e,n){},,function(t,e,n){},function(t,e,n){},function(t,e,n){"use strict";n.r(e);var i=n(0),o=n.n(i),r=n(9),c=n.n(r),a=(n(14),n(2)),u=n(3),s=(n(15),n(8),n(1)),l=function(t){var e=t.item,n=t.isBlocker,o=t.isOpen,r=t.isRoad,c=t.isGoal,a=t.isPath,u=t.isUserPosition,l=t.setTileAsBlocker,f=t.isSetting,b=t.isGoalSetting,j=t.isStartSetting,h=t.onSetStart,x=t.onSetGoal,O=n?"block_tile":"tile",m=o?"is_open":"",d=r?"is_road":"",g=c?"is_goal":"",y=u?"is_user":"",p=a?"is_path":"",S=o&&o.IS_TENTATIVE_BETTER?"is_tentative":"",T=Object(i.useMemo)((function(){return d}),[d]),v=Object(i.useMemo)((function(){return g}),[g]),k=Object(i.useMemo)((function(){return m}),[m]);return Object(s.jsx)("div",{onClick:function(){return j&&h({x:e.x,y:e.y}),b&&x({x:e.x,y:e.y}),f&&l({x:e.x,y:e.y}),!1},className:"size ".concat(O," ").concat(k," ").concat(T," ").concat(v," ").concat(y," ").concat(p," ").concat(S)})},f=o.a.memo(l),b=(n(17),function(t){var e=t.x,n=t.columns,i=t.blockers,o=t.open,r=t.road,c=t.goal,u=t.path,l=t.userPosition,b=t.setTileAsBlocker,j=t.isSetting,h=t.isGoalSetting,x=t.isStartSetting,O=t.onSetGoal,m=t.onSetStart,d=new Array(n).fill(e),g=function(t){return o.length>0&&o.find((function(e){return e.y===t}))},y=function(t){return r.length>0&&r.find((function(e){return e.y===t}))},p=function(t){return c&&c.y===t},S=function(t){return u.length>0&&u.find((function(e){return e.y===t}))},T=function(t,e){return l.x===t&&l.y===e};return Object(s.jsx)("div",{className:"row",children:d.map((function(t,e){return Object(a.a)({x:t,y:e},t)})).map((function(t,e){return Object(s.jsx)(f,{item:t,isBlocker:(n=t.y,i.length>0&&i.find((function(t){return t.y===n}))),isOpen:g(t.y),isRoad:y(t.y),isGoal:p(t.y),isPath:S(t.y),isUserPosition:T(t.x,t.y),setTileAsBlocker:b,isSetting:j,isStartSetting:x,isGoalSetting:h,onSetStart:m,onSetGoal:O},"".concat(t.x,"_").concat(t.y));var n}))})}),j=o.a.memo(b),h=(n(18),function(t){var e=t.columns,n=t.rows,i=t.blockers,o=t.open,r=t.road,c=t.goal,a=t.path,u=t.userPosition,l=t.setTileAsBlocker,f=t.isSetting,b=t.isGoalSetting,h=t.isStartSetting,x=t.onSetGoal,O=t.onSetStart,m=new Array(n).fill(0),d=function(t,e){return t.filter((function(t){return t.x===e}))};return Object(s.jsx)("div",{className:"map",children:m.map((function(t,n){return Object(s.jsx)(j,{x:n,columns:e,blockers:d(i,n),open:d(o,n),road:d(r,n),path:d(a,n),goal:c.x===n&&c,userPosition:u,setTileAsBlocker:l,isSetting:f,isStartSetting:h,isGoalSetting:b,onSetStart:O,onSetGoal:x},n)})).reverse()})}),x={wall:[["-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-"],["-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-"],["-","-","-","-","-","-","#","#","#","#","#","#","#","#","#","#","-","-","-","-"],["-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","#","-","-","-","-"],["-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","#","-","-","-","-"],["-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","#","-","-","-","-"],["-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","#","-","-","-","-"],["-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","#","-","-","-","-"],["-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","#","-","-","-","-"],["-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","#","-","-","-","-"],["-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","#","-","-","-","-"],["-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","#","-","-","-","-"],["-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","#","-","-","-","-"],["-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","#","-","-","-","-"],["-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","#","-","-","-","-"],["-","-","-","-","-","-","#","#","#","#","#","#","#","#","#","#","-","-","-","-"],["-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-"],["-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-"],["-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-"],["-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-"]],mrmap:[["-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-"],["-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-"],["-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","#","#","-","-"],["-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","#","#","-","-"],["-","-","-","-","#","-","-","-","-","-","#","#","#","#","-","-","-","-","-","-"],["-","-","-","-","#","#","-","-","-","#","#","-","-","#","#","-","-","-","-","-"],["-","-","-","-","#","#","#","-","#","#","#","-","-","-","#","-","-","-","-","-"],["-","-","-","-","#","-","#","#","#","-","#","-","-","-","#","-","-","-","-","-"],["-","-","-","-","#","-","-","#","-","-","#","-","-","#","#","-","-","-","-","-"],["-","-","-","-","#","-","-","-","-","-","#","#","#","#","-","-","-","-","-","-"],["-","-","-","-","#","-","-","-","-","-","#","-","#","-","-","-","-","-","-","-"],["-","-","-","-","#","-","-","-","-","-","#","-","#","#","-","-","-","-","-","-"],["-","-","-","-","#","-","-","-","-","-","#","-","-","#","-","-","-","-","-","-"],["-","-","-","-","#","-","-","-","-","-","#","-","-","#","#","-","-","-","-","-"],["-","-","-","-","#","-","-","-","-","-","#","-","-","-","#","-","-","-","-","-"],["-","-","-","-","#","-","-","-","-","-","#","-","-","-","#","-","-","-","-","-"],["-","-","-","-","#","-","-","-","-","-","#","-","-","-","#","-","-","-","-","-"],["-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-"],["-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-"],["-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-"]],something:[["-","-","-","-","-","-","#","-","-","-","-","-","-","-","-","-","#","-","-","-"],["-","-","-","-","-","-","#","-","-","-","-","-","-","-","-","-","#","-","-","-"],["-","-","-","#","-","-","#","-","-","-","-","-","#","-","-","#","#","-","-","-"],["-","-","-","#","-","-","#","-","-","-","-","-","#","-","-","#","-","-","#","-"],["-","-","-","#","-","-","#","#","#","#","#","-","#","-","-","#","-","-","#","-"],["-","-","-","#","-","-","#","-","-","-","-","-","#","-","-","#","-","#","#","-"],["-","-","-","#","-","-","#","-","-","-","-","-","#","-","-","#","-","#","-","-"],["-","-","-","#","-","-","#","-","#","#","#","#","#","-","-","-","-","#","-","-"],["-","-","-","#","-","-","#","-","-","-","-","-","#","#","#","#","#","#","-","-"],["-","-","-","#","-","-","#","-","-","-","-","-","#","-","-","-","-","-","-","-"],["-","-","-","#","-","-","#","-","-","-","-","-","#","-","-","-","-","-","-","-"],["-","-","-","#","-","-","#","#","#","#","#","-","#","-","-","-","-","-","-","-"],["-","-","-","#","-","-","#","-","-","-","-","-","#","-","-","-","-","-","-","-"],["-","-","-","#","-","-","#","-","-","-","-","-","#","#","#","#","#","#","-","-"],["-","-","-","#","-","-","#","-","-","-","-","-","#","-","-","-","#","-","-","-"],["-","-","-","#","-","-","#","-","-","-","-","-","#","-","-","-","#","-","-","-"],["-","-","-","#","-","-","#","-","-","-","-","-","#","-","-","-","#","-","-","-"],["-","-","-","#","-","-","#","-","-","-","-","-","#","-","-","-","#","-","-","-"],["-","-","-","#","-","-","-","-","-","-","-","-","#","-","-","-","#","-","-","-"],["-","-","-","#","-","-","-","-","-","-","-","-","#","-","-","-","-","-","-","-"]]},O=function(t){var e=t.dimension,n=Object(i.useState)([]),o=Object(u.a)(n,2),r=o[0],c=o[1];return{setBlockersOnMap:function(){c(function(){var t=function(){var t=Math.round(Math.random()*e);return 0!==t?t-1:t};return new Array(8*e).fill(0).map((function(){return{x:t(),y:t()}})).filter((function(t){var e=t.x,n=t.y;return 0!==e&&0!==n})).filter((function(t){var n=t.x,i=t.y;return n!==e-1&&i!==e-1}))}())},blockers:r,setTileAsBlocker:function(t){c((function(e){return e.concat(t)}))},setBlockersBasedOnGeneratedMap:function(t){var e=[];x[t].reverse().forEach((function(t,n){t.forEach((function(t,i){"-"!==t&&e.push({x:n,y:i})}))})),c(e)}}},m=n(7),d=function(t,e){var n=t.x-e.x,i=t.y-e.y;return Math.sqrt(n*n+i*i)},g=function(t,e){var n=e.x-t.x,i=e.y-t.y;return Math.sqrt(n*n+i*i)},y=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;if(t){var i=d(t,n)+n.gCost,o=g(t,e),r=i+o,c={x:t.x,y:t.y,gCost:i,hCost:o,cost:r,parent:n};return c}},p=function(t){var e=t.map((function(t){return t.cost})),n=Math.min.apply(Math,Object(m.a)(e));return{minArray:t.filter((function(t){return t.cost===n})),min:n}},S=function(t){var e=t.map((function(t){return t.hCost})),n=Math.min.apply(Math,Object(m.a)(e));return t.find((function(t){return t.hCost===n}))},T=function(t,e){return t.find((function(t){return t.cost===e}))},v={x:0,y:0},k={x:19,y:19},A=function(t){return t<=0?-1:t-1},G=function(t){return t>=19?-1:t+1},w=function(t,e){var n=t;return e.forEach((function(t){n=n.filter((function(e){return e.x!==t.x||e.y!==t.y}))})),n.map((function(t){return Object(a.a)(Object(a.a)({},t),{},{status:"waiting"})}))},R=function(t,e){var n=t;return e.forEach((function(t){n=n.filter((function(e){return e.x!==t.x||e.y!==t.y}))})),n},C=function(t,e){return t.filter((function(t){return t.x!==e.x||t.y!==e.y}))},B=function(t){if(-1!==t.x&&-1!==t.y)return t},L=function(t){return t.filter((function(t){return t}))},M=function(t,e,n){var i=function(t){return function(t,e){if(t&&!e.find((function(e){return e.x===t.x&&e.y===t.y})))return t}(t,e)},o=y(B({x:A(t.x),y:t.y}),n,t),r=y(B({x:G(t.x),y:t.y}),n,t),c=y(B({x:t.x,y:G(t.y)}),n,t),a=y(B({x:t.x,y:A(t.y)}),n,t),u=y(B({x:A(t.x),y:G(t.y)}),n,t),s=y(B({x:G(t.x),y:G(t.y)}),n,t),l=y(B({x:A(t.x),y:A(t.y)}),n,t),f=y(B({x:G(t.x),y:A(t.y)}),n,t);return{leftTile:o&&i(o),rightTile:r&&i(r),topTile:c&&i(c),bottomTile:a&&i(a),topLeftTile:u&&i(u),topRightTile:s&&i(s),bottomLeftTile:l&&i(l),bottomRightTile:f&&i(f),neighbours:{leftTile:o,rightTile:r,topTile:c,bottomTile:a,topLeftTile:u,topRightTile:s,bottomLeftTile:l,bottomRightTile:f}}},_=function(t){var e={gCost:0,parent:null},n=Object(i.useState)(Object(a.a)(Object(a.a)({},t),e)),o=Object(u.a)(n,2),r=o[0],c=o[1];Object(i.useEffect)((function(){c((function(e){return Object(a.a)(Object(a.a)({},e),{},{x:t.x,y:t.y})}))}),[t.x,t.y]);return Object(i.useEffect)((function(){document.addEventListener("keyup",(function(t){switch(t.code){case"ArrowUp":c((function(t){return Object(a.a)(Object(a.a)({},t),{},{x:G(t)})}));break;case"ArrowDown":c((function(t){return Object(a.a)(Object(a.a)({},t),{},{x:A(t)})}));break;case"ArrowLeft":c((function(t){return Object(a.a)(Object(a.a)({},t),{},{y:A(t)})}));break;case"ArrowRight":c((function(t){return Object(a.a)(Object(a.a)({},t),{},{y:G(t)})}))}}))}),[]),{player:r,setPosition:c,move:function(t){c(t)},extendUserData:e}},E=function(t,e,n,o,r,c){var a=Object(i.useState)([e]),s=Object(u.a)(a,2),l=s[0],f=s[1],b=Object(i.useState)([]),j=Object(u.a)(b,2),h=j[0],x=j[1],O=M(e,[],t),m=O.leftTile,d=O.rightTile,g=O.topTile,y=O.bottomTile,v=O.topLeftTile,k=O.topRightTile,A=O.bottomLeftTile,G=O.bottomRightTile,B=L([m,d,g,y,v,k,A,G]),_=Object(i.useState)(w(B,l)),E=Object(u.a)(_,2),N=E[0],P=E[1],I=Object(i.useState)(w(B,l)),F=Object(u.a)(I,2),U=F[0],D=F[1],q=function(e){return e&&e.x===t.x&&e.y===t.y};Object(i.useEffect)((function(){var i=M(e,U,t),o=i.leftTile,r=i.rightTile,c=i.topTile,a=i.bottomTile,u=i.topLeftTile,s=i.topRightTile,f=i.bottomLeftTile,b=i.bottomRightTile,j=i.neighbours,h=L([o,r,c,a,u,s,f,b]),x=L([j.leftTile,j.rightTile,j.bottomTile,j.topTile,j.topLeftTile,j.topRightTile,j.bottomLeftTile,j.bottomRightTile]),O=function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=w(t,l.concat(e)),r=R(o,n),c=C(i.concat(r),e);return c};P(O(x)),D((function(t){return O(h,t)}))}),[e.x,e.y]);Object(i.useEffect)((function(){if(o>0&&!q(l[l.length-1])){var t=function(){var t=p(U),e=t.minArray,n=t.min;if(c){var i=p(N);if(i.min<n)return i.minArray.length>1?S(i.minArray):T(N,i.min)}return e.length>1?S(e):T(U,n)}();r(t),f((function(e){return e.concat(t)}))}}),[o]);return{open:U,road:l,path:h,setFinalPath:function(){!function(t){var e=[];!function t(n){null!==n.parent&&(e.push(n.parent),t(n.parent))}(t),x(e)}(l[l.length-1])},isGoalReached:q,clearAll:function(e){!function(t){f([t])}(e),function(e){var n=M(e,[],t),i=n.leftTile,o=n.rightTile,r=n.topTile,c=n.bottomTile,a=n.topLeftTile,u=n.topRightTile,s=n.bottomLeftTile,l=n.bottomRightTile,f=L([i,o,r,c,a,u,s,l]);D(w(f,[e]))}(e),function(e){var n=M(e,[],t),i=n.leftTile,o=n.rightTile,r=n.topTile,c=n.bottomTile,a=n.topLeftTile,u=n.topRightTile,s=n.bottomLeftTile,l=n.bottomRightTile,f=L([i,o,r,c,a,u,s,l]);P(w(f,[e]))}(e)}}};var N=function(){var t=Object(i.useState)(0),e=Object(u.a)(t,2),n=e[0],o=e[1],r=Object(i.useState)(!0),c=Object(u.a)(r,2),l=c[0],f=c[1],b=function(){var t=Object(i.useState)(v),e=Object(u.a)(t,2),n=e[0],o=e[1],r=Object(i.useState)(!1),c=Object(u.a)(r,2),a=c[0],s=c[1],l=Object(i.useState)(k),f=Object(u.a)(l,2),b=f[0],j=f[1],h=Object(i.useState)(!1),x=Object(u.a)(h,2);return{start:n,setStart:o,goal:b,setGoal:j,isStartSetting:a,isGoalSetting:x[0],setIsStartSetting:s,setIsGoalSetting:x[1]}}(),j=b.start,x=b.goal,m=b.setStart,d=b.setGoal,g=b.isStartSetting,y=b.isGoalSetting,p=b.setIsGoalSetting,S=b.setIsStartSetting,T=_(j),A=T.player,G=T.move,w=T.extendUserData,R=O({dimension:20}),C=R.blockers,B=R.setBlockersOnMap,L=R.setTileAsBlocker,M=R.setBlockersBasedOnGeneratedMap,N=E(x,A,C,n,G,l),P=N.open,I=N.road,F=N.path,U=N.setFinalPath,D=N.isGoalReached,q=N.clearAll,J=Object(i.useState)(!1),z=Object(u.a)(J,2),V=z[0],H=z[1],K=Object(i.useRef)(A);return Object(i.useEffect)((function(){K.current=A,U()}),[n]),Object(s.jsx)("div",{className:"App",children:Object(s.jsxs)("header",{className:"App-header",children:[Object(s.jsx)("div",{className:"move-button",children:Object(s.jsx)("button",{onClick:function(){var t=setInterval((function(){D(K.current)?clearInterval(t):o((function(t){return t+1}))}),5)},children:"move"})}),Object(s.jsxs)("div",{className:"App-content",children:[Object(s.jsxs)("div",{className:"buttons",children:[Object(s.jsx)("div",{className:"setting_buttons",children:Object(s.jsx)("button",{onClick:function(){return window.location.reload()},children:"reload"})}),Object(s.jsxs)("div",{className:"setting_buttons",children:[Object(s.jsx)("button",{disabled:g,onClick:function(){S(!0),H(!1),p(!1)},children:"set start"}),Object(s.jsx)("button",{disabled:y,onClick:function(){S(!1),H(!1),p(!0)},children:"set goal"})]}),Object(s.jsx)("button",{onClick:B,children:"set blockers"}),Object(s.jsx)("button",{onClick:function(){return H(!0)},children:"set blockers individually"}),Object(s.jsx)("button",{className:l?"with-condition":"",onClick:function(){return f((function(t){return!t}))},children:"with neighbours evaluation"})]}),Object(s.jsx)(h,{columns:20,rows:20,blockers:C,open:P,road:I,path:F,goal:x,userPosition:A,setTileAsBlocker:L,isSetting:V,isStartSetting:g,isGoalSetting:y,onSetStart:function(t){q(Object(a.a)(Object(a.a)({},t),w)),m(t),S(!1)},onSetGoal:function(t){d(t),p(!1)}}),Object(s.jsxs)("div",{className:"buttons",children:["maps",Object(s.jsx)("button",{onClick:function(){return M("wall")},children:"wall"}),Object(s.jsx)("button",{onClick:function(){return M("mrmap")},children:"MR map"}),Object(s.jsx)("button",{onClick:function(){return M("something")},children:"labyrinth"})]})]})]})})},P=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,20)).then((function(e){var n=e.getCLS,i=e.getFID,o=e.getFCP,r=e.getLCP,c=e.getTTFB;n(t),i(t),o(t),r(t),c(t)}))};c.a.render(Object(s.jsx)(o.a.StrictMode,{children:Object(s.jsx)(N,{})}),document.getElementById("root")),P()}],[[19,1,2]]]);
//# sourceMappingURL=main.17e36236.chunk.js.map