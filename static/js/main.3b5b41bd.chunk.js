(this.webpackJsonpa_start_mr=this.webpackJsonpa_start_mr||[]).push([[0],[,,,,,,,,function(t,e,n){},,,,,,function(t,e,n){},function(t,e,n){},,function(t,e,n){},function(t,e,n){},function(t,e,n){"use strict";n.r(e);var i=n(0),o=n.n(i),r=n(9),c=n.n(r),a=(n(14),n(2)),u=n(3),s=(n(15),n(8),n(1)),l=function(t){var e=t.item,n=t.isBlocker,o=t.isOpen,r=t.isRoad,c=t.isGoal,a=t.isPath,u=t.isUserPosition,l=t.setTileAsBlocker,f=t.isSetting,b=t.isGoalSetting,j=t.isStartSetting,h=t.onSetStart,O=t.onSetGoal,x=n?"block_tile":"tile",d=o?"is_open":"",g=r?"is_road":"",m=c?"is_goal":"",p=u?"is_user":"",y=a?"is_path":"",S=o&&o.IS_TENTATIVE_BETTER?"is_tentative":"",T=Object(i.useMemo)((function(){return g}),[g]),v=Object(i.useMemo)((function(){return m}),[m]),k=Object(i.useMemo)((function(){return d}),[d]);return Object(s.jsx)("div",{onClick:function(){return j&&h({x:e.x,y:e.y}),b&&O({x:e.x,y:e.y}),f&&l({x:e.x,y:e.y}),!1},className:"size ".concat(x," ").concat(k," ").concat(T," ").concat(v," ").concat(p," ").concat(y," ").concat(S)})},f=o.a.memo(l),b=(n(17),function(t){var e=t.x,n=t.columns,i=t.blockers,o=t.open,r=t.road,c=t.goal,u=t.path,l=t.userPosition,b=t.setTileAsBlocker,j=t.isSetting,h=t.isGoalSetting,O=t.isStartSetting,x=t.onSetGoal,d=t.onSetStart,g=new Array(n).fill(e),m=function(t){return o.length>0&&o.find((function(e){return e.y===t}))},p=function(t){return r.length>0&&r.find((function(e){return e.y===t}))},y=function(t){return c&&c.y===t},S=function(t){return u.length>0&&u.find((function(e){return e.y===t}))},T=function(t,e){return l.x===t&&l.y===e};return Object(s.jsx)("div",{className:"row",children:g.map((function(t,e){return Object(a.a)({x:t,y:e},t)})).map((function(t,e){return Object(s.jsx)(f,{item:t,isBlocker:(n=t.y,i.length>0&&i.find((function(t){return t.y===n}))),isOpen:m(t.y),isRoad:p(t.y),isGoal:y(t.y),isPath:S(t.y),isUserPosition:T(t.x,t.y),setTileAsBlocker:b,isSetting:j,isStartSetting:O,isGoalSetting:h,onSetStart:d,onSetGoal:x},"".concat(t.x,"_").concat(t.y));var n}))})}),j=o.a.memo(b),h=(n(18),function(t){var e=t.columns,n=t.rows,i=t.blockers,o=t.open,r=t.road,c=t.goal,a=t.path,u=t.userPosition,l=t.setTileAsBlocker,f=t.isSetting,b=t.isGoalSetting,h=t.isStartSetting,O=t.onSetGoal,x=t.onSetStart,d=new Array(n).fill(0),g=function(t,e){return t.filter((function(t){return t.x===e}))};return Object(s.jsx)("div",{className:"map",children:d.map((function(t,n){return Object(s.jsx)(j,{x:n,columns:e,blockers:g(i,n),open:g(o,n),road:g(r,n),path:g(a,n),goal:c.x===n&&c,userPosition:u,setTileAsBlocker:l,isSetting:f,isStartSetting:h,isGoalSetting:b,onSetStart:x,onSetGoal:O},n)})).reverse()})}),O={wall:[["-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-"],["-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-"],["-","-","-","-","-","-","#","#","#","#","#","#","#","#","#","#","-","-","-","-"],["-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","#","-","-","-","-"],["-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","#","-","-","-","-"],["-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","#","-","-","-","-"],["-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","#","-","-","-","-"],["-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","#","-","-","-","-"],["-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","#","-","-","-","-"],["-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","#","-","-","-","-"],["-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","#","-","-","-","-"],["-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","#","-","-","-","-"],["-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","#","-","-","-","-"],["-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","#","-","-","-","-"],["-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","#","-","-","-","-"],["-","-","-","-","-","-","#","#","#","#","#","#","#","#","#","#","-","-","-","-"],["-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-"],["-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-"],["-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-"],["-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-"]],mrmap:[["-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-"],["-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-"],["-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","#","#","-","-"],["-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","#","#","-","-"],["-","-","-","-","#","-","-","-","-","-","#","#","#","#","-","-","-","-","-","-"],["-","-","-","-","#","#","-","-","-","#","#","-","-","#","#","-","-","-","-","-"],["-","-","-","-","#","#","#","-","#","#","#","-","-","-","#","-","-","-","-","-"],["-","-","-","-","#","-","#","#","#","-","#","-","-","-","#","-","-","-","-","-"],["-","-","-","-","#","-","-","#","-","-","#","-","-","#","#","-","-","-","-","-"],["-","-","-","-","#","-","-","-","-","-","#","#","#","#","-","-","-","-","-","-"],["-","-","-","-","#","-","-","-","-","-","#","-","#","-","-","-","-","-","-","-"],["-","-","-","-","#","-","-","-","-","-","#","-","#","#","-","-","-","-","-","-"],["-","-","-","-","#","-","-","-","-","-","#","-","-","#","-","-","-","-","-","-"],["-","-","-","-","#","-","-","-","-","-","#","-","-","#","#","-","-","-","-","-"],["-","-","-","-","#","-","-","-","-","-","#","-","-","-","#","-","-","-","-","-"],["-","-","-","-","#","-","-","-","-","-","#","-","-","-","#","-","-","-","-","-"],["-","-","-","-","#","-","-","-","-","-","#","-","-","-","#","-","-","-","-","-"],["-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-"],["-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-"],["-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-"]],something:[["-","-","-","-","-","-","#","-","-","-","-","-","-","-","-","-","#","-","-","-"],["-","-","-","-","-","-","#","-","-","-","-","-","-","-","-","-","#","-","-","-"],["-","-","-","#","-","-","#","-","-","-","-","-","#","-","-","#","#","-","-","-"],["-","-","-","#","-","-","#","-","-","-","-","-","#","-","-","#","-","-","#","-"],["-","-","-","#","-","-","#","#","#","#","#","-","#","-","-","#","-","-","#","-"],["-","-","-","#","-","-","#","-","-","-","-","-","#","-","-","#","-","#","#","-"],["-","-","-","#","-","-","#","-","-","-","-","-","#","-","-","#","-","#","-","-"],["-","-","-","#","-","-","#","-","#","#","#","#","#","-","-","-","-","#","-","-"],["-","-","-","#","-","-","#","-","-","-","-","-","#","#","#","#","#","#","-","-"],["-","-","-","#","-","-","#","-","-","-","-","-","#","-","-","-","-","-","-","-"],["-","-","-","#","-","-","#","-","-","-","-","-","#","-","-","-","-","-","-","-"],["-","-","-","#","-","-","#","#","#","#","#","-","#","-","-","-","-","-","-","-"],["-","-","-","#","-","-","#","-","-","-","-","-","#","-","-","-","-","-","-","-"],["-","-","-","#","-","-","#","-","-","-","-","-","#","#","#","#","#","#","-","-"],["-","-","-","#","-","-","#","-","-","-","-","-","#","-","-","-","#","-","-","-"],["-","-","-","#","-","-","#","-","-","-","-","-","#","-","-","-","#","-","-","-"],["-","-","-","#","-","-","#","-","-","-","-","-","#","-","-","-","#","-","-","-"],["-","-","-","#","-","-","#","-","-","-","-","-","#","-","-","-","#","-","-","-"],["-","-","-","#","-","-","-","-","-","-","-","-","#","-","-","-","#","-","-","-"],["-","-","-","#","-","-","-","-","-","-","-","-","#","-","-","-","-","-","-","-"]]},x=function(t){var e=t.dimension,n=Object(i.useState)([]),o=Object(u.a)(n,2),r=o[0],c=o[1];return{setBlockersOnMap:function(){c(function(){var t=function(){var t=Math.round(Math.random()*e);return 0!==t?t-1:t};return new Array(8*e).fill(0).map((function(){return{x:t(),y:t()}})).filter((function(t){var e=t.x,n=t.y;return 0!==e&&0!==n})).filter((function(t){var n=t.x,i=t.y;return n!==e-1&&i!==e-1}))}())},blockers:r,setTileAsBlocker:function(t){c((function(e){return e.concat(t)}))},setBlockersBasedOnGeneratedMap:function(t){var e=[];O[t].reverse().forEach((function(t,n){t.forEach((function(t,i){"-"!==t&&e.push({x:n,y:i})}))})),c(e)}}},d=n(7),g=function(t,e){var n=t.x-e.x,i=t.y-e.y;return Math.sqrt(n*n+i*i)},m=function(t,e){var n=e.x-t.x,i=e.y-t.y;return Math.sqrt(n*n+i*i)},p=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;if(t){var i=g(t,n)+n.gCost,o=m(t,e),r=i+o,c={x:t.x,y:t.y,gCost:i,hCost:o,cost:r,parent:n};return c}},y=function(t){var e=t.map((function(t){return t.cost})),n=Math.min.apply(Math,Object(d.a)(e));return{minArray:t.filter((function(t){return t.cost===n})),min:n}},S=function(t){var e=t.map((function(t){return t.hCost})),n=Math.min.apply(Math,Object(d.a)(e));return t.find((function(t){return t.hCost===n}))},T=function(t,e){return t.find((function(t){return t.cost===e}))},v={x:0,y:0},k={x:19,y:19},w=function(t){return t<=0?-1:t-1},A=function(t){return t>=19?-1:t+1},G=function(t,e){var n=t;return e.forEach((function(t){n=n.filter((function(e){return e.x!==t.x||e.y!==t.y}))})),n.map((function(t){return Object(a.a)(Object(a.a)({},t),{},{status:"waiting"})}))},R=function(t,e){var n=t;return e.forEach((function(t){n=n.filter((function(e){return e.x!==t.x||e.y!==t.y}))})),n},C=function(t,e){return t.filter((function(t){return t.x!==e.x||t.y!==e.y}))},B=function(t){if(-1!==t.x&&-1!==t.y)return t},L=function(t){return t.filter((function(t){return t}))},M=function(t,e,n){var i=function(t){return function(t,e){if(t&&!e.find((function(e){return e.x===t.x&&e.y===t.y})))return t}(t,e)},o=p(B({x:w(t.x),y:t.y}),n,t),r=p(B({x:A(t.x),y:t.y}),n,t),c=p(B({x:t.x,y:A(t.y)}),n,t),a=p(B({x:t.x,y:w(t.y)}),n,t),u=p(B({x:w(t.x),y:A(t.y)}),n,t),s=p(B({x:A(t.x),y:A(t.y)}),n,t),l=p(B({x:w(t.x),y:w(t.y)}),n,t),f=p(B({x:A(t.x),y:w(t.y)}),n,t);return{leftTile:o&&i(o),rightTile:r&&i(r),topTile:c&&i(c),bottomTile:a&&i(a),topLeftTile:u&&i(u),topRightTile:s&&i(s),bottomLeftTile:l&&i(l),bottomRightTile:f&&i(f),neighbours:{leftTile:o,rightTile:r,topTile:c,bottomTile:a,topLeftTile:u,topRightTile:s,bottomLeftTile:l,bottomRightTile:f}}},_=function(t){var e={gCost:0,parent:null},n=Object(i.useState)(Object(a.a)(Object(a.a)({},t),e)),o=Object(u.a)(n,2),r=o[0],c=o[1];Object(i.useEffect)((function(){c((function(e){return Object(a.a)(Object(a.a)({},e),{},{x:t.x,y:t.y})}))}),[t.x,t.y]);return Object(i.useEffect)((function(){document.addEventListener("keyup",(function(t){switch(t.code){case"ArrowUp":c((function(t){return Object(a.a)(Object(a.a)({},t),{},{x:A(t)})}));break;case"ArrowDown":c((function(t){return Object(a.a)(Object(a.a)({},t),{},{x:w(t)})}));break;case"ArrowLeft":c((function(t){return Object(a.a)(Object(a.a)({},t),{},{y:w(t)})}));break;case"ArrowRight":c((function(t){return Object(a.a)(Object(a.a)({},t),{},{y:A(t)})}))}}))}),[]),{player:r,setPosition:c,move:function(t){c(t)},extendUserData:e}},E=function(t,e,n,o,r,c,s){var l=Object(i.useState)([e]),f=Object(u.a)(l,2),b=f[0],j=f[1],h=Object(i.useState)([]),O=Object(u.a)(h,2),x=O[0],d=O[1],g=M(e,[],t),m=g.leftTile,p=g.rightTile,v=g.topTile,k=g.bottomTile,w=g.topLeftTile,A=g.topRightTile,B=g.bottomLeftTile,_=g.bottomRightTile,E=L([m,p,v,k,w,A,B,_]),N=Object(i.useState)(G(E,b)),P=Object(u.a)(N,2),I=P[0],F=P[1],U=Object(i.useState)(G(E,b)),D=Object(u.a)(U,2),q=D[0],J=D[1],z=function(e){return e&&e.x===t.x&&e.y===t.y};Object(i.useEffect)((function(){var i=M(e,q,t),o=i.leftTile,r=i.rightTile,c=i.topTile,a=i.bottomTile,u=i.topLeftTile,s=i.topRightTile,l=i.bottomLeftTile,f=i.bottomRightTile,j=i.neighbours,h=L([o,r,c,a,u,s,l,f]),O=L([j.leftTile,j.rightTile,j.bottomTile,j.topTile,j.topLeftTile,j.topRightTile,j.bottomLeftTile,j.bottomRightTile]),x=function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=G(t,b.concat(e)),r=R(o,n),c=C(i.concat(r),e);return c};F(x(O)),J((function(t){return x(h,t)}))}),[e.x,e.y]);Object(i.useEffect)((function(){if(o>0&&!z(b[b.length-1])){var t=function(){var t=q.filter((function(t){return"waiting"===t.status}));0===t.length&&(t=q.filter((function(t){return"skipped"===t.status})));var e=y(t),n=e.minArray,i=e.min;if(s){var o=y(I);if(o.min<i)return o.minArray.length>1?S(o.minArray):T(I,o.min)}return n.length>1?S(n):T(t,i)}();r(t),c&&J((function(t){return function(t){return t.map((function(t){return"waiting"===t.status?Object(a.a)(Object(a.a)({},t),{},{status:"skipped"}):t}))}(t)})),j((function(e){return e.concat(t)}))}}),[o]);return{open:q,road:b,path:x,setFinalPath:function(){!function(t){var e=[];!function t(n){null!==n.parent&&(e.push(n.parent),t(n.parent))}(t),d(e)}(b[b.length-1])},isGoalReached:z,clearAll:function(e){!function(t){j([t])}(e),function(e){var n=M(e,[],t),i=n.leftTile,o=n.rightTile,r=n.topTile,c=n.bottomTile,a=n.topLeftTile,u=n.topRightTile,s=n.bottomLeftTile,l=n.bottomRightTile,f=L([i,o,r,c,a,u,s,l]);J(G(f,[e]))}(e),function(e){var n=M(e,[],t),i=n.leftTile,o=n.rightTile,r=n.topTile,c=n.bottomTile,a=n.topLeftTile,u=n.topRightTile,s=n.bottomLeftTile,l=n.bottomRightTile,f=L([i,o,r,c,a,u,s,l]);F(G(f,[e]))}(e)}}};var N=function(){var t=Object(i.useState)(0),e=Object(u.a)(t,2),n=e[0],o=e[1],r=Object(i.useState)(!0),c=Object(u.a)(r,2),l=c[0],f=c[1],b=Object(i.useState)(!0),j=Object(u.a)(b,2),O=j[0],d=j[1],g=function(){var t=Object(i.useState)(v),e=Object(u.a)(t,2),n=e[0],o=e[1],r=Object(i.useState)(!1),c=Object(u.a)(r,2),a=c[0],s=c[1],l=Object(i.useState)(k),f=Object(u.a)(l,2),b=f[0],j=f[1],h=Object(i.useState)(!1),O=Object(u.a)(h,2);return{start:n,setStart:o,goal:b,setGoal:j,isStartSetting:a,isGoalSetting:O[0],setIsStartSetting:s,setIsGoalSetting:O[1]}}(),m=g.start,p=g.goal,y=g.setStart,S=g.setGoal,T=g.isStartSetting,w=g.isGoalSetting,A=g.setIsGoalSetting,G=g.setIsStartSetting,R=_(m),C=R.player,B=R.move,L=R.extendUserData,M=x({dimension:20}),N=M.blockers,P=M.setBlockersOnMap,I=M.setTileAsBlocker,F=M.setBlockersBasedOnGeneratedMap,U=E(p,C,N,n,B,l,O),D=U.open,q=U.road,J=U.path,z=U.setFinalPath,V=U.isGoalReached,H=U.clearAll,K=Object(i.useState)(!1),Q=Object(u.a)(K,2),W=Q[0],X=Q[1],Y=Object(i.useRef)(C);return Object(i.useEffect)((function(){Y.current=C,z()}),[n]),Object(s.jsx)("div",{className:"App",children:Object(s.jsxs)("header",{className:"App-header",children:[Object(s.jsx)("div",{className:"move-button",children:Object(s.jsx)("button",{onClick:function(){var t=setInterval((function(){V(Y.current)?clearInterval(t):o((function(t){return t+1}))}),5)},children:"move"})}),Object(s.jsxs)("div",{className:"App-content",children:[Object(s.jsxs)("div",{className:"buttons",children:[Object(s.jsx)("div",{className:"setting_buttons",children:Object(s.jsx)("button",{onClick:function(){return window.location.reload()},children:"reload"})}),Object(s.jsxs)("div",{className:"setting_buttons",children:[Object(s.jsx)("button",{disabled:T,onClick:function(){G(!0),X(!1),A(!1)},children:"set start"}),Object(s.jsx)("button",{disabled:w,onClick:function(){G(!1),X(!1),A(!0)},children:"set goal"})]}),Object(s.jsx)("button",{onClick:P,children:"set blockers"}),Object(s.jsx)("button",{onClick:function(){return X(!0)},children:"set blockers individually"}),Object(s.jsx)("button",{className:l?"with-condition":"",onClick:function(){return f((function(t){return!t}))},children:"with skipping"}),Object(s.jsx)("button",{className:O?"with-condition":"",onClick:function(){return d((function(t){return!t}))},children:"with neighbours evaluation"})]}),Object(s.jsx)(h,{columns:20,rows:20,blockers:N,open:D,road:q,path:J,goal:p,userPosition:C,setTileAsBlocker:I,isSetting:W,isStartSetting:T,isGoalSetting:w,onSetStart:function(t){H(Object(a.a)(Object(a.a)({},t),L)),y(t),G(!1)},onSetGoal:function(t){S(t),A(!1)}}),Object(s.jsxs)("div",{className:"buttons",children:["maps",Object(s.jsx)("button",{onClick:function(){return F("wall")},children:"wall"}),Object(s.jsx)("button",{onClick:function(){return F("mrmap")},children:"MR map"}),Object(s.jsx)("button",{onClick:function(){return F("something")},children:"labyrinth"})]})]})]})})},P=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,20)).then((function(e){var n=e.getCLS,i=e.getFID,o=e.getFCP,r=e.getLCP,c=e.getTTFB;n(t),i(t),o(t),r(t),c(t)}))};c.a.render(Object(s.jsx)(o.a.StrictMode,{children:Object(s.jsx)(N,{})}),document.getElementById("root")),P()}],[[19,1,2]]]);
//# sourceMappingURL=main.3b5b41bd.chunk.js.map